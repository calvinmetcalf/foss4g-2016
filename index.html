<!DOCTYPE html>
<html>
<head>
  <title>GEO RODEO</title>
  <meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' />
<link href='big.css' rel='stylesheet' type='text/css' />

<script src='big.js'></script></head><body>

<div>
  When <em>worse</em> is <em>better</em>: making a <em>dumb</em> as <em>bricks</em> app for use when <em>everything</em> goes <em>wrong</em>
</div>

<div>
My name is <em>Calvin</em>
</div>
<div>
I work for a company called <em>Applied Geographics</em>
</div>
<div>
<em>AppGeo</em> for short
</div>
<div>
Today We're talking about my favorite <em>app</em>
</div>
<div>
I hope you <em>never</em> have to see
</div>
<div>
drivetexas.org
<notes>Most of the apps we do are somewhat niche</notes>
<notes>This one is not</notes>
</div>
<div>
High Trafic
<notes>e.g. durring a huricane</notes>
</div>
<div>
features on map can change rapidly
<notes>
want it to be "real time" as much as possilbe
</notes>
</div>
<div>
these are corrilated
<notes>when the most people are viewing it, there are the most conditions on the map</notes>
<notes>
between secondary delays due to accedents and county wide conditions that go on all roads in a county
</notes>
</div>
<div>Main site built with <em>GME</em>*<notes>Current version uses maplarge</notes></div>
<div>GME was like rain man <notes>Or Hodar to give a more topical reference</notes></div>
<div>
Very fast but very rough api<notes>or very strong but requires hand holding</notes>
</div>
<div>app was complex <notes>in how it updated the data and interacted with GME</notes></div>
<div>The site ended up breaking a couple times<notes>once on my honeymood that thankfully only involved the client side part</notes><notes>another time culminating in my writing a patch on the back pourch during a party</notes></div>
<div>the <em>plan</em>:</div>
<div>significantly pared down functionality</div>
<div>no future conditions</div>
<div>no other datasets <notes>google traffic, rest areas, traffic cameras, travel information center (aka rest area)</notes></div>
<div>no search <notes>you can just use google for that</notes></div>
<div>travel planing <notes>you can just use google for that as well</notes></div>
<div>no print to pdf <notes>a feature so complex it could be it's own talk</notes></div>
<div>totally seperate cloud infrastructure<notes>orig uses google, this is amazon</notes></div>
<div>no external dependencies <notes>e.g. no google maps, hosting our own tiles etc</notes></div>
<div>required features:</div>
<div>data updates</div>
<div>the time updated</div>
<div>the legend be accurate <notes>to reflect which features are being shown</notes></div>
<div>to be able to click on it <notes>but we only need to show the one on top</notes></div>
<div>the <em>plan</em>:</div>
<div>host it entirly on <em>S3</em></div>
<div>download/convert <notes>stuff is on esri, so we grab what we want, convert it to geojson, and do some processing/grab some stats</notes></div>
<div>generate tiles and utfgrids with mapnik <notes>and they go into their own "folder" (dr evil style airquotes)</notes></div>
<div>replace the index file with one pointing to the new "folder" <notes>also contains updated stats for the legend</notes></div>
<div>use cloudfront cdn in front<notes>only way to have multiple subdomains with s3</notes></div>
<div>set up a testing version<notes>it works very nicely</notes></div>
<div>One month later<notes>all company email gets sent out</notes></div>
<div>Our s3 usage has spiked to 100 million requests last month<notes>we had had 3 million the previous month</notes></div>
<div>now we add a filter for blank tiles<notes>bonus, like 5 times faster</notes></div>
<div>wait how do you use mapnik?<notes>I did somewhat skip a step there</notes></div>
<div><em>tilelive</em>: 100% open source 10% documented from <em>mapbox</em><notes>good thing I learned JavaScript by trying to figure out the api of mapbox projects</notes></div>
<div>generating tiles from tilemill xml is documented</div>
<div>generating from mapbox studio classic, not so much<notes>why is this relevent?</notes></div>
<div>we need background tiles<notes>pretty much would have been impossible if Seth Fitzsimmons aka mojodna from stamen hasn't blazzed the trail</notes></div>
</body>
</html>
